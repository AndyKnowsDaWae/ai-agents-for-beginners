<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "1923cf93aba522a5f4a493597112a893",
  "translation_date": "2025-09-18T16:22:30+00:00",
  "source_file": "13-agent-memory/README.md",
  "language_code": "bg"
}
-->
# Памет за AI агенти

Когато обсъждаме уникалните предимства на създаването на AI агенти, основно се разглеждат две неща: способността да използват инструменти за изпълнение на задачи и способността да се подобряват с времето. Паметта е основата за създаването на самоусъвършенстващи се агенти, които могат да предоставят по-добри преживявания на нашите потребители.

В този урок ще разгледаме какво представлява паметта за AI агенти, как можем да я управляваме и използваме за подобряване на нашите приложения.

## Въведение

Този урок ще обхване:

• **Разбиране на паметта на AI агенти**: Какво представлява паметта и защо е важна за агентите.

• **Имплементиране и съхранение на памет**: Практически методи за добавяне на памет към вашите AI агенти, с акцент върху краткосрочна и дългосрочна памет.

• **Създаване на самоусъвършенстващи се AI агенти**: Как паметта позволява на агентите да се учат от минали взаимодействия и да се подобряват с времето.

## Цели на обучението

След завършване на този урок ще можете:

• **Да различавате различните видове памет на AI агенти**, включително работна, краткосрочна и дългосрочна памет, както и специализирани форми като памет за персона и епизодична памет.

• **Да имплементирате и управлявате краткосрочна и дългосрочна памет за AI агенти**, използвайки рамката Semantic Kernel, инструменти като Mem0 и Whiteboard memory, и интеграция с Azure AI Search.

• **Да разбирате принципите зад самоусъвършенстващите се AI агенти** и как стабилните системи за управление на паметта допринасят за непрекъснато обучение и адаптация.

## Разбиране на паметта на AI агенти

В основата си **паметта за AI агенти се отнася до механизмите, които им позволяват да запазват и извикват информация**. Тази информация може да включва конкретни детайли за разговор, потребителски предпочитания, минали действия или дори научени модели.

Без памет AI приложенията често са без състояние, което означава, че всяко взаимодействие започва от нулата. Това води до повтарящо се и разочароващо потребителско преживяване, при което агентът "забравя" предишния контекст или предпочитания.

### Защо паметта е важна?

Интелигентността на един агент е дълбоко свързана със способността му да запомня и използва минала информация. Паметта позволява на агентите да бъдат:

• **Рефлексивни**: Да се учат от минали действия и резултати.

• **Интерактивни**: Да поддържат контекст в рамките на текущ разговор.

• **Проактивни и реактивни**: Да предвиждат нужди или да реагират подходящо въз основа на исторически данни.

• **Автономни**: Да действат по-независимо, използвайки запазени знания.

Целта на имплементирането на памет е да направи агентите по-**надеждни и способни**.

### Видове памет

#### Работна памет

Мислете за това като за лист хартия, който агентът използва по време на една задача или мисловен процес. Тя съдържа непосредствена информация, необходима за следващата стъпка.

За AI агенти работната памет често улавя най-важната информация от разговор, дори ако пълната история на чата е дълга или съкратена. Тя се фокусира върху извличането на ключови елементи като изисквания, предложения, решения и действия.

**Пример за работна памет**

В агент за резервации на пътувания работната памет може да запази текущото искане на потребителя, например "Искам да резервирам пътуване до Париж". Това конкретно изискване се задържа в непосредствения контекст на агента, за да насочи текущото взаимодействие.

#### Краткосрочна памет

Този тип памет запазва информация за продължителността на един разговор или сесия. Това е контекстът на текущия чат, който позволява на агента да се позовава на предишни реплики в диалога.

**Пример за краткосрочна памет**

Ако потребителят попита: "Колко би струвал полет до Париж?" и след това продължи с "А какво ще кажете за настаняване там?", краткосрочната памет гарантира, че агентът знае, че "там" се отнася за "Париж" в рамките на същия разговор.

#### Дългосрочна памет

Това е информация, която се запазва през множество разговори или сесии. Тя позволява на агентите да запомнят потребителски предпочитания, исторически взаимодействия или общи знания за дълги периоди. Това е важно за персонализацията.

**Пример за дългосрочна памет**

Дългосрочната памет може да запази, че "Бен обича ски и дейности на открито, харесва кафе с изглед към планината и иска да избягва напреднали ски писти поради предишна травма". Тази информация, научена от предишни взаимодействия, влияе върху препоръките в бъдещи сесии за планиране на пътувания, правейки ги силно персонализирани.

#### Памет за персона

Този специализиран тип памет помага на агента да развие последователна "личност" или "персона". Тя позволява на агента да запомни детайли за себе си или за своята роля, правейки взаимодействията по-плавни и фокусирани.

**Пример за памет за персона**

Ако агентът за пътувания е проектиран да бъде "експерт по планиране на ски", паметта за персона може да подсили тази роля, влияейки върху отговорите му, за да съответстват на тона и знанията на експерт.

#### Епизодична памет

Тази памет съхранява последователността от стъпки, които агентът предприема по време на сложна задача, включително успехи и неуспехи. Това е като запомняне на конкретни "епизоди" или минали преживявания, за да се учи от тях.

**Пример за епизодична памет**

Ако агентът се опита да резервира конкретен полет, но това не успее поради липса на наличност, епизодичната памет може да запише този неуспех, позволявайки на агента да опита алтернативни полети или да информира потребителя за проблема по-информирано при следващ опит.

#### Памет за обекти

Тази памет включва извличане и запомняне на конкретни обекти (като хора, места или неща) и събития от разговори. Тя позволява на агента да изгради структурирано разбиране за ключовите елементи, обсъждани.

**Пример за памет за обекти**

От разговор за минало пътуване, агентът може да извлече "Париж", "Айфеловата кула" и "вечеря в ресторант Le Chat Noir" като обекти. В бъдещо взаимодействие агентът може да си спомни "Le Chat Noir" и да предложи да направи нова резервация там.

#### Структуриран RAG (Retrieval Augmented Generation)

Докато RAG е по-широка техника, "Структуриран RAG" се подчертава като мощна технология за памет. Тя извлича плътна, структурирана информация от различни източници (разговори, имейли, изображения) и я използва за подобряване на прецизността, извличането и скоростта на отговорите. За разлика от класическия RAG, който разчита само на семантична прилика, Структуриран RAG работи със структурата на информацията.

**Пример за Структуриран RAG**

Вместо просто да съвпада ключови думи, Структуриран RAG може да анализира детайли за полет (дестинация, дата, час, авиокомпания) от имейл и да ги съхрани в структурирана форма. Това позволява точни запитвания като "Кой полет резервирах за Париж във вторник?"

## Имплементиране и съхранение на памет

Имплементирането на памет за AI агенти включва систематичен процес на **управление на паметта**, който включва генериране, съхранение, извличане, интегриране, актуализиране и дори "забравяне" (или изтриване) на информация. Извличането е особено важен аспект.

### Специализирани инструменти за памет

Един от начините за съхранение и управление на паметта на агента е използването на специализирани инструменти като Mem0. Mem0 работи като слой за постоянна памет, позволявайки на агентите да си спомнят релевантни взаимодействия, да съхраняват потребителски предпочитания и фактически контекст, и да се учат от успехи и неуспехи с времето. Идеята тук е, че агенти без състояние се превръщат в агенти със състояние.

Това се осъществява чрез **двуфазен процес на памет: извличане и актуализация**. Първо, съобщенията, добавени към нишката на агента, се изпращат към услугата Mem0, която използва голям езиков модел (LLM), за да обобщи историята на разговора и да извлече нови спомени. След това, фазата на актуализация, управлявана от LLM, определя дали да добави, модифицира или изтрие тези спомени, съхранявайки ги в хибридно хранилище, което може да включва векторни, графови и ключ-стойност бази данни. Тази система също така поддържа различни видове памет и може да включва графова памет за управление на връзките между обекти.

### Съхранение на памет с RAG

Освен специализирани инструменти за памет като Mem0, можете да използвате надеждни услуги за търсене като **Azure AI Search като бекенд за съхранение и извличане на спомени**, особено за структурирания RAG.

Това позволява да се основават отговорите на агента на вашите собствени данни, осигурявайки по-релевантни и точни отговори. Azure AI Search може да се използва за съхранение на потребителски спомени за пътувания, продуктови каталози или всякакви други специфични за домейна знания.

Azure AI Search поддържа възможности като **Структуриран RAG**, който се отличава в извличането и извличането на плътна, структурирана информация от големи набори от данни като истории на разговори, имейли или дори изображения. Това предоставя "свръхчовешка прецизност и извличане" в сравнение с традиционните подходи за текстово сегментиране и вграждане.

## Създаване на самоусъвършенстващи се AI агенти

Често срещан модел за самоусъвършенстващи се агенти включва въвеждането на **"агент за знания"**. Този отделен агент наблюдава основния разговор между потребителя и основния агент. Неговата роля е:

1. **Идентифициране на ценна информация**: Определяне дали някоя част от разговора си струва да бъде запазена като общо знание или специфично потребителско предпочитание.

2. **Извличане и обобщение**: Дестилиране на същественото знание или предпочитание от разговора.

3. **Съхранение в база данни за знания**: Запазване на извлечената информация, често в векторна база данни, за да може да бъде извлечена по-късно.

4. **Допълване на бъдещи запитвания**: Когато потребителят започне ново запитване, агентът за знания извлича релевантна запазена информация и я добавя към запитването на потребителя, предоставяйки важен контекст на основния агент (подобно на RAG).

### Оптимизации за памет

• **Управление на латентността**: За да се избегне забавяне на взаимодействията с потребителя, може да се използва по-евтин, по-бърз модел първоначално, за да се провери бързо дали информацията е ценна за съхранение или извличане, като се използва по-сложен процес само когато е необходимо.

• **Поддръжка на база данни за знания**: За растяща база данни за знания, по-рядко използваната информация може да бъде преместена в "студено хранилище", за да се управляват разходите.

## Имате още въпроси относно инженерството на контекста?

Присъединете се към [Azure AI Foundry Discord](https://aka.ms/ai-agents/discord), за да се срещнете с други обучаващи се, да участвате в офис часове и да получите отговори на вашите въпроси за AI агенти.

---

**Отказ от отговорност**:  
Този документ е преведен с помощта на AI услуга за превод [Co-op Translator](https://github.com/Azure/co-op-translator). Въпреки че се стремим към точност, моля, имайте предвид, че автоматизираните преводи може да съдържат грешки или неточности. Оригиналният документ на неговия роден език трябва да се счита за авторитетен източник. За критична информация се препоръчва професионален човешки превод. Ние не носим отговорност за недоразумения или погрешни интерпретации, произтичащи от използването на този превод.